## 简介
在多人使用同一账号的情况下, 管理华为云账号内的虚拟机资源

## 支持的功能
* 自动删除账号内虚拟机名称中没有标明使用者ID(工号)或者ID不在白名单中的虚拟机
* 自动删除未绑定的浮动IP,很多人在删除虚拟机时会忘记删除浮动ip,这里帮助自动删除
* 自动删除按带宽计费的浮动ip, 避免有人创建价格很高的按带宽计费的ip
* 凌晨自动关停虚拟机, 如果希望不被关停, 请在虚拟机名称中加"-nonstop", 比如"ecs-poc-m00401111-nonstop"
* 凌晨自动删除关机计费的虚拟机, 比如P1实例(请在脚本中自行配置), 如果希望不被关停, 请在虚拟机名称中加"-nonstop", 比如"ecs-poc-m00401111-nonstop"

## 使用指南:

### 管理脚本使用步骤
1. 编辑 auth.conf 文件,配置华为云用户名和密码
2. 编辑 hw_resource_manager.py, 配置授权白名单, 只有在白名单中的用户才能创建虚拟机.
  ```
        self.auth_users = {'m00401111': 'mayun'
                            }
   ```
3. 执行sh run.sh启动管理脚本, 日志自动保存在同目录的monitor.log中 

### 华为云用户创建虚拟机使用要求
1. 创建虚拟机时在虚拟机名称中写明ID(比如工号)和用途, 用'-'隔开:比如 ecs-poc-m00401111
2. 如果希望特定资源不被关闭或者删除, 请在虚拟机名称中加"-nonstop", 比如"ecs-poc-m00401111-nonstop"
